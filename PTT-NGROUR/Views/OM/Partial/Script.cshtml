<script src="~/Scripts/Chart/Chart.js"></script>
<script src="~/Scripts/Chart/Chart.PieceLabel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script src="~/Scripts/bootstrap-select-1.12.4/dist/js/bootstrap-select.min.js"></script>
<script src="~/Content/bootstrap-datepicker.js"></script>

<script>
    var Check = function () {
        var radioMonth = document.getElementById('radioMonth')
        var radioYear = document.getElementById('radioYear')
        if (radioMonth && radioMonth.checked) {
            document.getElementById('Month-filter').style.display = 'inline-block';
            document.getElementById('Year-filter').style.display = 'none';
        }
        else if (radioYear && radioYear.checked) {
            document.getElementById('Month-filter').style.display = 'none';
            document.getElementById('Year-filter').style.display = 'inline-block';
        }
    }

    var ExportTo = function (type) {
        var mode = $('[name="radioMode"]:checked').val();
        var date = $("#datePicker").datepicker("getDate");
        var year = date.getFullYear();

        var f = document.createElement("form");
        f.action = "/Risk/RiskManagementGraphExport";
        f.method = "post";
        f.target = "blank";


        var i1 = document.createElement("input");
        i1.name = "mode";
        i1.value = mode;
        f.appendChild(i1);

        var i2 = document.createElement("input");
        i2.name = "year";
        i2.value = year;
        f.appendChild(i2);

        var i2 = document.createElement("input");
        i2.name = "lists";
        i2.value = $('[data-target="' + mode + '"]').val();
        f.appendChild(i2);

        $('body').append(f);

        f.submit();
        //f.remove();
    }

    $(document).ready(function () {

        $('#MultiRegion').selectpicker('selectAll');

        $('#Month-filter').datepicker({
            format: "m/yyyy",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        }).datepicker("setDate", d)

        $('[name="pStrMonth"]').val(initMonth)

        $('#Month-filter').datepicker()
            .on('clearDate', function (e) {
                $('[name="pStrMonth"]').val($(e).val())
            });

        $('#Month-filter').change(function () {
            var x = $("#Month-filter").val().split("/");
            $('[name="pStrMonth"]').val(x[0])
            $('[name="pStrYear"]').val(x[1])
        })

        $("#Year-filter").datepicker({
            format: "yyyy",
            viewMode: "years",
            minViewMode: "years",
            autoclose: true
        }).datepicker("setDate", d);

        $('[name="pStrYear"]').val(initYear)

        $('#Month-filter').datepicker()
            .on('clearDate', function (e) {
                $('[name="pStrYear"]').val($("#Year-filter").val())
            });

        Check();
    });
</script>