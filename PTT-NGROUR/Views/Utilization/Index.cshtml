@model PTT_NGROUR.Models.ViewModel.ModelUtilization

@{
    ViewBag.Title = "Utilization";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Scripts/bootstrap-select-1.12.4/dist/css/bootstrap-select.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-select-1.12.4/dist/js/bootstrap-select.min.js"></script>

<style>
    #scollbar::-webkit-scrollbar-track {
        border: 1px solid #f5f5f5;
        background-color: white;
    }

    #scollbar::-webkit-scrollbar {
        width: 8px;
        background-color: #808080;
    }

    #scollbar::-webkit-scrollbar-thumb {
        background-color: #ddd;
    }

    
    
</style>

    
   

<br />
<div class="container-fluid" style="margin-top:-.8rem">
    <span style="float:right">
        <a class="f6 link dim  w-5  blue5 pr2 form-inline " href="@Url.Action("importexcel", "Utilization")" id="btnImExcel">Import&nbsp;Excel</a>|<a class="f6 link dim w-5 pl1 blue5" href="@Url.Action("ThresholdSetting", "Utilization")" id="btn_imExcel">Threshold&nbsp;Setting</a>
    </span> <span style="float:none"></span>
    <br />
    <!--Search Bar Web-->
    <div class=" p-3 mb-2 well well-sm text-dark well-white">
        <div class="form-inline " style="padding-bottom:.5rem;">
            <div class="form-inline">
                <label class=" ml-5 lato" style="padding-right:6px">
                    <input type="radio" name="radio" id="radioRegion" checked="checked" onclick="javascript:Check();">
                    <span class="checkmark h6 b">Region</span>
                </label>
                <label class="lato d-none ">
                    <input type="radio" name="radio" id="radioLicense" onclick="javascript:Check();">
                    <span class="checkmark h6 b"> License</span>
                </label>
                <span id="seRegion">
                    <select class="selectpicker fz-12px" name="MultiRegion" id="MultiRegion" multiple data-selected-text-format="count" data-live-search="true" data-actions-box="true">
                        @foreach (PTT_NGROUR.Models.DataModel.ModelRegion ml in Model.ListRegion)
                        {
                            <option value="@ml.REGION_ID" class="text-grey" style="word-wrap:break-word;font-size:15px">@ml.REGION_NAME</option>
                        }
                    </select>
                </span>



                <span id="seLicense">
                    <select class="selectpicker  " data-size="8" name="seLicense" id="seLicense" multiple data-selected-text-format="count" data-live-search="true" data-actions-box="true">
                        @foreach (PTT_NGROUR.Models.DataModel.ModelLicenseMaster ml in Model.ListLicense)
                        {
                            <option class="hidden-sm hidden-xs" value="@ml.LICENSE_ID" style="word-wrap: break-word">@ml.LICENSE</option>
                            <option class="hidden-lg hidden-md" value="@ml.LICENSE_ID" style="word-wrap: break-word;white-space:normal">@ml.LICENSE</option>
                        }
                    </select>
                </span>
                <button type="button" class="btn btn-primary " id="btnSearch" onclick="Search()">
                    <span class="glyphicon glyphicon-search"></span> Search
                </button>
            </div>
        </div>






    </div>


    <!-- <div class="col-container">
         <div class="bg-white hidden-sm hidden-xs col-sm-12 border-gray">
             <i class="fa fa-circle fa-lg green" aria-hidden="true"></i> <label class="f7 ">Gate Station < 80 % , Pipeline < 55 ft/s </label>
             <i class="fa fa-circle fa-lg yellow" aria-hidden="true"></i> <label class="f7 ">Gate Station > 80 %  , Pipeline > 55 ft/s </label>
             <i class="fa fa-circle fa-lg red" aria-hidden="true"></i> <label class="f7 ">Gate Station > 87.5 % , Pipeline > 60 ft/s </label>
         </div>
     </div>-->


    <div class="col-container col-container-white col-sm-12 ">
        <div class="col col-sm-9 pt-15px pb-15px  pl-0 ">
            <canvas></canvas>
        </div>
        <!-- <div class="pl2 pr2 border-left"></div>-->
        <div class="col col-sm-3 pt-15px pb-15px pr-0 pl-0-xs pl-0-sm border-left-md border-left-lg ">
            <div class="form-inline">

                <div class="input-group" style="width: 100% ">
                    <div class="input-group-btn" style="width: 10% !important">
                        <button class="btn btn-default btn-sm btn-block" data-toggle="dropdown">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a id="seAll" class="fz-12px drop_role">All</a></li>
                            <li><a id="sePipeline" class="fz-12px drop_role" href="#">Pipeline</a></li>
                            <li><a id="seGate" class="fz-12px drop_role" href="#">Gate Station</a></li>
                            <li><a id="seMetering" class="fz-12px  drop_role" href="#">Metering Station</a></li>

                        </ul>
                    </div>


                    <input id="txtSearch" class="form-control input-sm " type="text" aria-describedby="name-desc" style="width: 100% !important">

                    <div class="input-group-btn" style="width:30%">
                        <!--   <button class="btn btn-default btn-sm btn-block" data-toggle="dropdown">
                              Threshold <span class="caret"></span>
                          </button>
                          <ul class="dropdown-menu">
                              <li><a id="seAllThres" class="fz-12px drop_role" href="#">All Threshold</a></li>
                              <li><a id="seGree" class="fz-12px drop_role" href="#">Green</a></li>
                              <li><a id="seYello" class="fz-12px drop_role" href="#">Yellow</a></li>
                              <li><a id="seRed" class="fz-12px drop_role" href="#">Red</a></li>
                          </ul>-->

                        <select class="form-control form-control-sm fz-12px" id="sel1" style="height: 30px !important;">
                            <option id="seAllThres" class="fz-12px drop_role">All Threshold</option>
                            <option id="seGree" class="fz-12px drop_role">Green</option>
                            <option id="seYello" class="fz-12px drop_role">Yellow</option>
                            <option id="seRed" class="fz-12px drop_role">Red</option>
                        </select>

                    </div>



                    <!--  <a type="button" class="btn btn-primary btn-xs" href="#">
                        <span class="fa fa-search dib gray6 white" aria-hidden="true"></span>
                    </a>-->

                    <div class="cr"></div>
                </div>
            </div>
            <br />
            <div class="table-responsive" id="TableValue">
                <table class="table table-striped table-hover">
                    <thead>

                    </thead>
                    <tbody>
                        <tr>
                            <td><i class="fa fa-circle fa-lg green" aria-hidden="true"></i></td>
                            <td>Doe</td>
                            <td>Metering</td>
                        </tr>
                        <tr>
                            <td><i class="fa fa-circle fa-lg green" aria-hidden="true"></i></td>
                            <td>M</td>
                            <td>Pipeline</td>

                        </tr>
                        <tr>
                            <td><i class="fa fa-circle fa-lg green" aria-hidden="true"></i></td>
                            <td>D</td>
                            <td>Gate Station</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>








    <script type="text/javascript">
        $(document).ready(function () {
            document.getElementById('seLicense').style.display = 'none';

        });

        function Check() {

            if (document.getElementById('radioRegion').checked) {
                document.getElementById('seRegion').style.display = 'inline-block';
                document.getElementById('seLicense').style.display = 'none';

            }
            else if (document.getElementById('radioLicense').checked) {
                document.getElementById('seLicense').style.display = 'inline-block';
                document.getElementById('seRegion').style.display = 'none';
            }
        }
        var region;
        $('#MultiRegion').change(function () {
             SeRegion = $(this).val();
            // console.log(region);

        })

        function Search()
        {
            if (document.getElementById('radioRegion').checked)
            {
                    console.log(SeRegion);
                  $.ajax({
                        url: '@Url.Action("SearchRegion")',
                        type: 'POST',
                        data: JSON.stringify(SeRegion),
                        contentType: 'application/json; charset=utf-8',
                        datatype: 'json',
                        success: function () {
                            alert("success");
                            window.location.reload();
                        },
                      error: function (result) {
                          alert('Fail ');
                      }
                    });
                
                
               // console.log(SeRegion);
            }
            //else if (document.getElementById('radioLicense').checked) {
              //  console.log(arr);
           // }
        }


    </script>

    <script>
        var region;
        $('#MultiRegion').change(function () {
            SeRegion = $(this).val();
            // console.log(region);

        })
        function Search() {
            if (document.getElementById('radioRegion').checked) {
                console.log(SeRegion);
                $.ajax({
                    url: '@Url.Action("SearchRegion")',
                    type: 'POST',
                    data: JSON.stringify(SeRegion),
                    contentType: 'application/json; charset=utf-8',
                    datatype: 'json',
                    success: function () {
                        alert("success");
                        window.location.reload();
                    },
                    error: function (result) {
                        alert('Fail ');
                    }
                });


                // console.log(SeRegion);
            }
            //else if (document.getElementById('radioLicense').checked) {
            //  console.log(arr);
            // }
        }
    </script>

</div>







